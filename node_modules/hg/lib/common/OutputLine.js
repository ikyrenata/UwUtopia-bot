"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var OutputLine = /** @class */ (function () {
    function OutputLine(channel, length, body) {
        this.channel = "";
        this.length = 0;
        this.body = "";
        this.channel = channel;
        this.length = length;
        this.body = body;
    }
    OutputLine.FromBuffer = function (data, start, encoding) {
        // Get the channel from the first character
        var chan = String.fromCharCode(data.readUInt8(start));
        // Get the body length from the next 4 bytes
        var bodyLength = data.readUInt32BE(start + 1);
        // Trim the buffer of the first 5 bytes (channel and bodyLength)
        var bodyBegin = start + 5;
        var bodyData = data.slice(bodyBegin, (bodyBegin + bodyLength));
        var body;
        if (chan === "r") {
            body = bodyData.readInt32BE(0);
        }
        else {
            body = bodyData.toString(encoding).replace(/\0/g, "");
        }
        return new OutputLine(chan, bodyLength, body);
    };
    return OutputLine;
}());
exports.default = OutputLine;
